<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Credits</title>
    <link rel="stylesheet" href="upload/bootstrap.css">
    <link rel="stylesheet" href="user-infinity.css">
    <style>
#myCanvas
{
    pointer-events: none;       /* make the canvas transparent to the mouse - needed since canvas is position infront of image */
    position:absolute;
    z-index: 2;
}


    </style>
    <script type="text/javascript" src="user-infinity.js"></script>  

<script>
    function alphabatise(users){
        var keys = Object.keys(users);
        var sortedusers = keys.sort(function(a, b) {
            var usera = users[a];
            var userb = users[b];
            var nameA = usera[0].toUpperCase(); // ignore upper and lowercase
            var nameB = userb[0].toUpperCase(); // ignore upper and lowercase
            if (nameA < nameB) {
                return -1; //nameA comes first
            }
            if (nameA > nameB) {
                return 1; // nameB comes first
            }
            return 0;  // names must be equal
        });
        return sortedusers;
    }

    function make_artist_list(){
    //var ul = document.createElement('ul');
    //document.getElementById('tags').appendChild(ul);
    loadJSON('json/artists.json',
         function(artists) { console.log(artists); 

            keys = alphabatise(artists);
            var ul = document.getElementById("people");
   
            //$.each(tags, function(key, value) {
            var value;
            keys.forEach((key) => {
                value = artists[key];
                //console.log('stuff : ' + key + ", " + value);
                var li = document.createElement('li');
                var name = value[0];
                var url = value[1];
                name = name.trim();

                var url_defined = (typeof url != 'undefined');
                if (url_defined){
                    url = url.trim();
                    if (url.length < 1){
                        url_defined = false;
                    }
                }

                if (!url_defined){
                    // no url provided
                    li.innerHTML += name;
                } else {
                
                    var a = document.createElement('a'); 
                  
                    // Create the text node for anchor element.
                    var link = document.createTextNode(name);
                    
                    // Append the text node to anchor element.
                    a.appendChild(link); 
                    
                    // Set the title.
                    a.title = name; 
                    
                    // Set the href property.
                    a.href = url;

        
                    
                    // Append the anchor element to the list item
                    li.appendChild(a);
                }
   
                ul.appendChild(li);

            });
        },
        function(xhr) { console.error(xhr); }
    );

}
</script>
   
</head>
<body  onload="make_artist_list();">
    <div class="page-header">
        <h1>Credits</h1>
    </div>
    <h2>Constructing Infinity</h2>
    <div class="flex-container">
        
        <div class="logo_left">
            <img src="images/vc_logo.jpg" alt="VC" style="width:100%">
          </div>
          <div class="text_container">
              <p><em>The Metaphysics of Notation</em> by Mark Applebaum.</em></p>
              <p>Sound and technology developed by the Vocal Constructvists.</p>
              <p>Direction: Jane Alden</p>
              <p>Design and Programming: Charles Hutchins</p>
              <p>Audio Engineering: Niamh O' Sullivan</p>
          </div>
        </div>      
    </div>
    <div>
        <h2>Musicans</h2>
        <ul id="people" class="people"></ul>
    </div>
    <div>
        <h2>Supported by</h2>
        <div class="row">
            <div class="column">
              <img src="images/fb_logo_20132-e1353697569764.png" alt="Fossbox" style="width:100%">
            </div>
            <div class="column">
              <img src="images/WU_MasterLogo_FullColor_rgb_1450x500.jpg" alt="Wesleyan" style="width:100%">
            </div>
            <div class="column">
              <img src="images/Uok_Logo_RGB294.jpg" alt="Kent" style="width:100%">
            </div>
            <div class="column">
                <img src="images/Trinity_Main_Logo.jpg" alt="Trinity College Dublin" style="width:100%">
              </div>
          </div> 
    </div>
</body>
</html>